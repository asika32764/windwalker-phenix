{"version":3,"sources":["repeatable.js"],"names":["window","RepeatableField","data","control","id","items","fields","created","map","prepareItem","makeSureDefaultItem","mounted","methods","getId","i","item","field","__key","getName","addItem","splice","getEmptyItem","delItem","Phoenix","uniqid","$","extend","length","push"],"mappings":";;AAAA;;;;;;AAOA,CAAC,YAAM;AACLA,EAAAA,MAAM,CAACC,eAAP,GAAyB;AACvBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,OAAO,EAAE,EADL;AAEJC,MAAAA,EAAE,EAAE,EAFA;AAGJC,MAAAA,KAAK,EAAE,EAHH;AAIJC,MAAAA,MAAM,EAAE;AAJJ,KADiB;AAOvBC,IAAAA,OAPuB,qBAOb;AACR,WAAKF,KAAL,CAAWG,GAAX,CAAe,KAAKC,WAApB;AAEA,WAAKC,mBAAL;AACD,KAXsB;AAYvBC,IAAAA,OAZuB,qBAYb,CACR;AACD,KAdsB;AAevBC,IAAAA,OAAO,EAAE;AACPC,MAAAA,KADO,iBACDC,CADC,EACEC,IADF,EACQC,KADR,EACe;AACpB,yBAAU,KAAKZ,EAAf,cAAqBW,IAAI,CAACE,KAA1B,cAAmCD,KAAnC;AACD,OAHM;AAKPE,MAAAA,OALO,mBAKCJ,CALD,EAKIC,IALJ,EAKUC,KALV,EAKiB;AACtB,yBAAU,KAAKb,OAAf,cAA0BW,CAA1B,eAAgCE,KAAhC;AACD,OAPM;AASPG,MAAAA,OATO,mBASCL,CATD,EASI;AACT,aAAKT,KAAL,CAAWe,MAAX,CAAkBN,CAAC,GAAG,CAAtB,EAAyB,CAAzB,EAA4B,KAAKL,WAAL,CAAiB,KAAKY,YAAL,EAAjB,CAA5B;AACD,OAXM;AAaPC,MAAAA,OAbO,mBAaCR,CAbD,EAaI;AACT,aAAKT,KAAL,CAAWe,MAAX,CAAkBN,CAAlB,EAAqB,CAArB;AAEA,aAAKJ,mBAAL;AACD,OAjBM;AAmBPD,MAAAA,WAnBO,uBAmBKM,IAnBL,EAmBW;AAChB,YAAI,CAACA,IAAI,CAACE,KAAV,EAAiB;AACfF,UAAAA,IAAI,CAACE,KAAL,GAAaM,OAAO,CAACC,MAAR,EAAb;AACD;;AAED,eAAOT,IAAP;AACD,OAzBM;AA2BPM,MAAAA,YA3BO,0BA2BQ;AACb,eAAOI,CAAC,CAACC,MAAF,CAAS,EAAT,EAAa,KAAKpB,MAAlB,CAAP;AACD,OA7BM;AA+BPI,MAAAA,mBA/BO,iCA+Be;AACpB,YAAI,KAAKL,KAAL,CAAWsB,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,eAAKtB,KAAL,CAAWuB,IAAX,CAAgB,KAAKnB,WAAL,CAAiB,KAAKY,YAAL,EAAjB,CAAhB;AACD;AACF;AAnCM;AAfc,GAAzB;AAqDD,CAtDD","sourcesContent":["/**\n * Part of phoenix project.\n *\n * @copyright  Copyright (C) 2019 ${ORGANIZATION}.\n * @license    __LICENSE__\n */\n\n(() => {\n  window.RepeatableField = {\n    data: {\n      control: '',\n      id: '',\n      items: [],\n      fields: [],\n    },\n    created() {\n      this.items.map(this.prepareItem);\n\n      this.makeSureDefaultItem();\n    },\n    mounted() {\n      //\n    },\n    methods: {\n      getId(i, item, field) {\n        return `${this.id}-${item.__key}-${field}`;\n      },\n\n      getName(i, item, field) {\n        return `${this.control}[${i}][${field}]`;\n      },\n\n      addItem(i) {\n        this.items.splice(i + 1, 0, this.prepareItem(this.getEmptyItem()));\n      },\n\n      delItem(i) {\n        this.items.splice(i, 1);\n\n        this.makeSureDefaultItem();\n      },\n\n      prepareItem(item) {\n        if (!item.__key) {\n          item.__key = Phoenix.uniqid();\n        }\n\n        return item;\n      },\n\n      getEmptyItem() {\n        return $.extend({}, this.fields);\n      },\n\n      makeSureDefaultItem() {\n        if (this.items.length === 0) {\n          this.items.push(this.prepareItem(this.getEmptyItem()));\n        }\n      }\n    }\n  };\n})();\n"],"file":"repeatable.js"}