"use strict";window.RepeatableField={name:"repeatable-field",data:{control:"",id:"",items:[],fields:[],ensureFirstRow:0,singleArray:!1,hasKey:!1,attrs:{},max:null},created:function(){this.items.map(this.prepareItem),this.ensureFirstRow&&this.makeSureDefaultItem()},mounted:function(){this.singleArray="1"===this.$el.dataset.singleArray,this.hasKey="1"===this.$el.dataset.hasKey},methods:{getId:function(t,e,i){return"".concat(this.id,"-").concat(e.__key,"-").concat(i)},getName:function(t,e,i){return this.singleArray?this.hasKey?"key"===i?"":"".concat(this.control,"[").concat(e.key,"]"):"".concat(this.control,"[]"):"".concat(this.control,"[").concat(t,"][").concat(i,"]")},addItem:function(t){var e=this;this.items.splice(t+1,0,this.prepareItem(this.getEmptyItem())),this.$nextTick(function(){var i=e.$refs["repeat-item-"+(t+1)][0];$(i).css("display","none").fadeIn()})},delItem:function(t){var e=this,i=this.$refs["repeat-item-"+t][0];$(i).fadeOut(function(){e.items.splice(t,1),e.ensureFirstRow&&e.makeSureDefaultItem()})},prepareItem:function(t){return t.__key||(t.__key=Phoenix.uniqid()),this.attrs.disabled&&(t.__disabled=this.attrs.disabled),t},getEmptyItem:function(){return $.extend({},this.fields)},makeSureDefaultItem:function(){0===this.items.length&&this.items.push(this.prepareItem(this.getEmptyItem()))}},computed:{canAdd:function(){return!(null!==this.max&&this.max<=this.items.length)}}};