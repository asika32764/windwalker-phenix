"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}$(function(){var e=window.swal||function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;alert(e+" / "+n)};Phoenix.plugin("dragFile",function(){return function n(a,r){_classCallCheck(this,n),a.on("change",function(n){var a,r=$(n.currentTarget),i=r[0].files,t=r.attr("data-max-files"),l=r.attr("data-max-size"),o=r.attr("placeholder"),f=(r.attr("data-accepted")||"").split(",").map(function(e){return e.trim()}).filter(function(e){return e.length>0});if(o||(o=r.attr("multiple")?Phoenix.__("phoenix.form.field.drag.file.placeholder.multiple"):Phoenix.__("phoenix.form.field.drag.file.placeholder.single")),t&&i.length>t)return e(Phoenix.__("phoenix.form.field.drag.file.message.max.files",t),"","warning"),void n.preventDefault();var s=0;if(Array.prototype.forEach.call(i,function(n){if(f.length&&-1===f.indexOf(n.name.split(".").pop().toLowerCase()))throw e(Phoenix.__("phoenix.form.field.drag.file.message.unaccepted.files"),Phoenix.__("phoenix.form.field.drag.file.message.unaccepted.files.desc",f.join(", ")),"warning"),new Error("Not accepted file ext");s+=n.size}),l&&s/1024/1024>l)return e(Phoenix.__("phoenix.form.field.drag.file.message.max.size",l<1?1024*l+"KB":l+"MB"),"","warning"),void n.preventDefault();a=i.length>1?'<span class="fa fa-files fa-copy"></span> \n                    '.concat(Phoenix.__("phoenix.form.field.drag.file.selected",i.length)):1===i.length?'<span class="fa fa-file"></span> '.concat(i[0].name):'<span class="fa fa-upload"></span> '.concat(o),r.next(".custom-file-label").find("span").html(a)}).on("dragover",function(e){$(e.currentTarget).addClass("hover")}).on("dragleave",function(e){$(e.currentTarget).removeClass("hover")}).on("drop",function(e){$(e.currentTarget).removeClass("hover")}).trigger("change")}}())});