{"version":3,"sources":["theme/bootstrap.js"],"names":["$","PhoenixUIBootstrap3","validation","state","$input","help","$control","parents","first","self","removeValidateResponse","STATE_NONE","icon","color","STATE_SUCCESS","STATE_EMPTY","STATE_FAIL","setTimeout","addValidateResponse","addClass","feedback","prepend","attr","helpElement","tagName","prop","toLowerCase","append","parent","$element","find","remove","removeClass","messageContainer","msg","type","message","i","length","messages","children","each","container","button","showClass","hideClass","iconShowClass","iconHideClass","hasClass","hide","show","window","jQuery"],"mappings":"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","file":"bootstrap.js","sourcesContent":["/**\r\n * Part of Phoenix project.\r\n *\r\n * @copyright  Copyright (C) 2016 LYRASOFT. All rights reserved.\r\n * @license    GNU General Public License version 2 or later.\r\n */\r\n\r\n(($) => {\r\n  \"use strict\";\r\n\r\n  /**\r\n   * Bootstrap Theme\r\n   */\r\n  class PhoenixUIBootstrap3 {\r\n    static get is() { return 'UI'; }\r\n    static get proxies() {\r\n      return {};\r\n    }\r\n\r\n    /**\r\n     * Show Validation response.\r\n     *\r\n     * @param {PhoenixValidation} validation\r\n     * @param {string}            state\r\n     * @param {jQuery}            $input\r\n     * @param {string}            help\r\n     */\r\n    showValidateResponse(validation, state, $input, help) {\r\n      var $control = $input.parents('.form-group').first();\r\n      var self = this;\r\n\r\n      this.removeValidateResponse($control);\r\n\r\n      if (state != validation.STATE_NONE) {\r\n        var icon, color;\r\n\r\n        switch (state) {\r\n          case validation.STATE_SUCCESS:\r\n            color = 'success';\r\n            icon = 'fa fa-check';\r\n            break;\r\n\r\n          case validation.STATE_EMPTY:\r\n            color = 'error';\r\n            icon = 'fa fa-remove fa-times';\r\n            break;\r\n\r\n          case validation.STATE_FAIL:\r\n            color = 'warning';\r\n            icon = 'fa fa-warning';\r\n            break;\r\n        }\r\n\r\n        // Delay 100 to make sure addClass after removeClass\r\n        setTimeout(function() {\r\n          self.addValidateResponse($control, $input, icon, color, help);\r\n        }, 100);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Add validate effect to input, just override this method to fit other templates.\r\n     *\r\n     * @param {jQuery} $control\r\n     * @param {jQuery} $input\r\n     * @param {string} icon\r\n     * @param {string} color\r\n     * @param {string} help\r\n     */\r\n    addValidateResponse($control, $input, icon, color, help) {\r\n      $control.addClass('has-' + color + ' has-feedback');\r\n\r\n      var feedback = $('<span class=\"' + icon + ' form-control-feedback\" aria-hidden=\"true\"></span>');\r\n      $control.prepend(feedback);\r\n\r\n      if ($control.attr('data-' + color + '-message')) {\r\n        help = $control.attr('data-' + color + '-message');\r\n      }\r\n\r\n      if ($input.attr('data-' + color + '-message')) {\r\n        help = $input.attr('data-' + color + '-message');\r\n      }\r\n\r\n      if (help) {\r\n        var helpElement = $('<small class=\"help-block\">' + help + '</small>');\r\n\r\n        var tagName = $input.prop('tagName').toLowerCase();\r\n\r\n        if (tagName === 'div') {\r\n          $input.append(helpElement);\r\n        }\r\n        else {\r\n          $input.parent().append(helpElement);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Remove validation response.\r\n     *\r\n     * @param {jQuery} $element\r\n     */\r\n    removeValidateResponse($element) {\r\n      $element.find('.form-control-feedback').remove();\r\n      $element.removeClass('has-error')\r\n        .removeClass('has-success')\r\n        .removeClass('has-warning')\r\n        .removeClass('has-feedback');\r\n\r\n      $element.find('.help-block').remove();\r\n    }\r\n\r\n    /**\r\n     * Render message.\r\n     *\r\n     * @param {jQuery}       messageContainer\r\n     * @param {string|Array} msg\r\n     * @param {string}       type\r\n     */\r\n    renderMessage(messageContainer, msg, type) {\r\n      type = type || 'info';\r\n\r\n      var message = messageContainer.find('div.alert.alert-' + type),\r\n        i;\r\n\r\n      if (!message.length) {\r\n        message = $('<div class=\"alert alert-' + type + '\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"></div>');\r\n        messageContainer.append(message);\r\n      }\r\n\r\n      if (typeof msg === 'string') {\r\n        msg = [msg];\r\n      }\r\n\r\n      for (i in msg) {\r\n        message.append('<p>' + msg[i] + '</p>');\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Remove all messages.\r\n     *\r\n     * @param {jQuery} messageContainer\r\n     */\r\n    removeMessages(messageContainer) {\r\n      var messages = messageContainer.children();\r\n\r\n      messages.each(function() {\r\n        this.remove();\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Toggle filter bar.\r\n     *\r\n     * @param {jQuery} container\r\n     * @param {jQuery} button\r\n     */\r\n    toggleFilter(container, button) {\r\n      var showClass = button.attr('data-class-show') || 'btn-primary';\r\n      var hideClass = button.attr('data-class-hide') || 'btn-default';\r\n\r\n      var icon = button.find('span.filter-button-icon');\r\n      var iconShowClass = icon.attr('data-class-show') || 'fa fa-angle-up';\r\n      var iconHideClass = icon.attr('data-class-hide') || 'fa fa-angle-down';\r\n\r\n      if (container.hasClass('shown')) {\r\n        button.removeClass(showClass).addClass(hideClass);\r\n        container.hide('fast');\r\n        container.removeClass('shown');\r\n\r\n        icon.removeClass(iconShowClass).addClass(iconHideClass);\r\n      }\r\n      else {\r\n        button.removeClass(hideClass).addClass(showClass);\r\n        container.show('fast');\r\n        container.addClass('shown');\r\n\r\n        icon.removeClass(iconHideClass).addClass(iconShowClass);\r\n      }\r\n    }\r\n  }\r\n\r\n  window.PhoenixUIBootstrap3 = PhoenixUIBootstrap3;\r\n\r\n})(jQuery);\r\n"]}