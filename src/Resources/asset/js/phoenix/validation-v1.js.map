{"version":3,"sources":["validation-v1.js"],"names":["$","handlers","PhoenixValidationV1","PhoenixValidationV1Element","validation","PhoenixJQueryPlugin","events","scroll","enabled","offset","duration","element","options","phoenix","STATE_SUCCESS","STATE_FAIL","STATE_NONE","STATE_EMPTY","form","extend","constructor","defaultOptions","validators","theme","inputs","find","registerDefaultValidators","registerEvents","input","add","filter","i","e","self","inValid","each","validate","push","target","is","parents","attr","animate","scrollTop","top","length","$input","className","validator","showResponse","hasClass","prop","toLowerCase","setCustomValidity","val","Array","isArray","match","handler","help","notice","state","trigger","type","$element","name","on","validateAll","event","stopPropagation","preventDefault","hasOwnProperty","addValidator","username","value","regex","RegExp","test","password","numeric","email","punycode","toASCII","url","alnum","color","creditcard","ip","window","jQuery"],"mappings":"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","file":"validation-v1.js","sourcesContent":["/**\r\n * Part of Phoenix project.\r\n *\r\n * @copyright  Copyright (C) 2016 LYRASOFT. All rights reserved.\r\n * @license    GNU General Public License version 2 or later;\r\n */\r\n\r\n/**\r\n * PhoenixValidation\r\n */\r\n;(function($) {\r\n  \"use strict\";\r\n\r\n  /**\r\n   * Default handlers\r\n   *\r\n   * @type {Object}\r\n   */\r\n  const handlers = {};\r\n\r\n  /**\r\n   * Class init.\r\n   *\r\n   * @param {jQuery} element\r\n   * @param {Object} options\r\n   * @constructor\r\n   */\r\n  class PhoenixValidationV1 extends PhoenixJQueryPlugin {\r\n    static get is() { return 'Validation' }\r\n\r\n    static get pluginName() { return 'validation' }\r\n\r\n    static get pluginClass() { return PhoenixValidationV1Element }\r\n\r\n    static get proxies() {\r\n      return {\r\n        validation: 'createPlugin'\r\n      };\r\n    }\r\n  }\r\n\r\n  class PhoenixValidationV1Element {\r\n    static get defaultOptions() {\r\n      return {\r\n        events: ['change'],\r\n        scroll: {\r\n          enabled: true,\r\n          offset: -100,\r\n          duration: 1000\r\n        }\r\n      }\r\n    }\r\n\r\n    constructor(element, options, phoenix) {\r\n      /**\r\n       * Validate success.\r\n       *\r\n       * @type {string}\r\n       */\r\n      this.STATE_SUCCESS = 'success';\r\n\r\n      /**\r\n       * Validate fail.\r\n       *\r\n       * @type {string}\r\n       */\r\n      this.STATE_FAIL = 'fail';\r\n\r\n      /**\r\n       * Pass or required with value.\r\n       *\r\n       * @type {string}\r\n       */\r\n      this.STATE_NONE = 'none';\r\n\r\n      /**\r\n       * Required with no value.\r\n       *\r\n       * @type {string}\r\n       */\r\n      this.STATE_EMPTY = 'empty';\r\n\r\n      this.form = element || $;\r\n      this.phoenix = phoenix;\r\n      this.options = $.extend(true, {}, this.constructor.defaultOptions, options);\r\n      this.validators = [];\r\n      this.handlers = {};\r\n      this.theme = {};\r\n      this.inputs = this.form.find('input, select, textarea, div.input-list-container');\r\n\r\n      this.registerDefaultValidators();\r\n      this.registerEvents();\r\n    }\r\n\r\n    /**\r\n     * Add field.\r\n     *\r\n     * @param {*} input\r\n     * @returns {PhoenixValidationElement}\r\n     */\r\n    addField(input) {\r\n      this.inputs = this.inputs.add(input);\r\n\r\n      return this;\r\n    }\r\n\r\n    removeField(input) {\r\n      this.inputs = this.inputs.filter((i, e) => input !== e);\r\n\r\n      return this;\r\n    }\r\n\r\n    /**\r\n     * Validate All.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    validateAll() {\r\n      const self = this, inValid = [];\r\n      let scroll = self.options.scroll.enabled;\r\n\r\n      this.inputs.each(function() {\r\n        if (!self.validate(this)) {\r\n          inValid.push(this);\r\n\r\n          // Scroll\r\n          if (scroll) {\r\n            // Find displayed element\r\n            let target = $(this);\r\n\r\n            if (!target.is(':visible')) {\r\n              target = target.parents('#' + target.attr('id') + '-control, [data-form-group]');\r\n            }\r\n\r\n            $('html, body').animate({\r\n              scrollTop: target.offset().top + self.options.scroll.offset\r\n            }, self.options.scroll.duration);\r\n\r\n            scroll = false;\r\n          }\r\n        }\r\n      });\r\n\r\n      return inValid.length <= 0;\r\n    }\r\n\r\n    /**\r\n     * Validate.\r\n     *\r\n     * @param {jQuery} input\r\n     * @returns {boolean}\r\n     */\r\n    validate(input) {\r\n      let $input = $(input), className, validator;\r\n\r\n      if ($input.attr('disabled')) {\r\n        this.showResponse(this.STATE_NONE, $input);\r\n\r\n        return true;\r\n      }\r\n\r\n\r\n      if ($input.attr('required') || $input.hasClass('required')) {\r\n        // Single Radio & Checkbox\r\n        if (($input.attr('type') === 'radio' || $input.attr('type') === 'checkbox') && !$input.is(':checked')) {\r\n          this.showResponse(this.STATE_EMPTY, $input);\r\n          return false;\r\n        } else if ($input.prop(\"tagName\").toLowerCase() === 'div' && $input.hasClass('input-list-container')) {\r\n          // Input List (Radios & Checkboxes)\r\n          if (!$input.find('input:checked').length) {\r\n            // Set as :invalid\r\n            $input.find('input').each(function () {\r\n              this.setCustomValidity('Please select at least one.');\r\n            });\r\n\r\n            this.showResponse(this.STATE_EMPTY, $input);\r\n\r\n            return false;\r\n          } else {\r\n            // Set as :valid\r\n            $input.find('input').each(function () {\r\n              this.setCustomValidity('');\r\n            });\r\n\r\n            this.showResponse(this.STATE_SUCCESS, $input);\r\n          }\r\n        }\r\n\r\n        // Handle all fields and checkbox\r\n        else if (!$input.val() || (Array.isArray($input.val()) && $input.val().length === 0)) {\r\n          this.showResponse(this.STATE_EMPTY, $input);\r\n\r\n          return false;\r\n        }\r\n      }\r\n\r\n      // Is value exists, validate this type.\r\n      className = $input.attr('class');\r\n\r\n      if (className) {\r\n        validator = className.match(/validate-([a-zA-Z0-9_|-]+)/);\r\n      }\r\n\r\n      // Empty value and no validator config, set response to none.\r\n      if (!$input.val() || !validator) {\r\n        this.showResponse(this.STATE_NONE, $input);\r\n\r\n        return true;\r\n      }\r\n\r\n      validator = this.validators[validator[1]];\r\n\r\n      if (!validator || !validator.handler) {\r\n        this.showResponse(this.STATE_SUCCESS, $input);\r\n\r\n        return true;\r\n      }\r\n\r\n      if (!validator.handler($input.val(), $input)) {\r\n        let help = validator.options.notice;\r\n\r\n        if (typeof  help === 'function') {\r\n          help = help($input, this);\r\n        }\r\n\r\n        // Set failure value as :invalid\r\n        $input[0].setCustomValidity('Input is invalid.');\r\n        this.showResponse(this.STATE_FAIL, $input, help);\r\n\r\n        return false;\r\n      }\r\n\r\n      this.showResponse(this.STATE_SUCCESS, $input);\r\n\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Show response on input.\r\n     *\r\n     * @param {string}      state\r\n     * @param {jQuery}      $input\r\n     * @param {string|null} help\r\n     *\r\n     * @returns {PhoenixValidationElement}\r\n     */\r\n    showResponse(state, $input, help = null) {\r\n      this.phoenix.trigger('validation.response', {state, $input, help, validation: this});\r\n\r\n      $input.trigger({\r\n        type: 'phoenix.validate.' + state,\r\n        input: $input,\r\n        state: state,\r\n        help: help\r\n      });\r\n\r\n      return this;\r\n    }\r\n\r\n    /**\r\n     * Remove responses.\r\n     *\r\n     * @param {jQuery} $element\r\n     *\r\n     * @returns {PhoenixValidationElement}\r\n     */\r\n    removeResponse($element) {\r\n      this.phoenix.trigger('validation.remove', {$element});\r\n\r\n      return this;\r\n    }\r\n\r\n    /**\r\n     * Add validator handler.\r\n     *\r\n     * @param name\r\n     * @param validator\r\n     * @param options\r\n     * @returns {PhoenixValidation}\r\n     */\r\n    addValidator(name, validator, options) {\r\n      options = options || {};\r\n\r\n      this.validators[name] = {\r\n        handler: validator,\r\n        options: options\r\n      };\r\n\r\n      return this;\r\n    }\r\n\r\n    /**\r\n     * Register events.\r\n     */\r\n    registerEvents() {\r\n      const self = this;\r\n\r\n      this.form.on('submit', event => {\r\n        if (!this.validateAll()) {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n\r\n          return false;\r\n        }\r\n\r\n        this.form.trigger('phoenix.validate.success');\r\n\r\n        return true;\r\n      });\r\n\r\n      $.each(this.options.events, function() {\r\n        self.inputs.on(this, function() {\r\n          self.validate(this);\r\n        });\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Register default validators.\r\n     */\r\n    registerDefaultValidators() {\r\n      for (let name in handlers) {\r\n        if (handlers.hasOwnProperty(name)) {\r\n          this.addValidator(name, handlers[name]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  handlers.username = function(value, element) {\r\n    const regex = new RegExp(\"[\\<|\\>|\\\"|\\'|\\%|\\;|\\(|\\)|\\&]\", \"i\");\r\n    return !regex.test(value);\r\n  };\r\n\r\n  handlers.password = function(value, element) {\r\n    const regex = /^\\S[\\S ]{2,98}\\S$/;\r\n    return regex.test(value);\r\n  };\r\n\r\n  handlers.numeric = function(value, element) {\r\n    const regex = /^(\\d|-)?(\\d|,)*\\.?\\d*$/;\r\n    return regex.test(value);\r\n  };\r\n\r\n  handlers.email = function(value, element) {\r\n    value = punycode.toASCII(value);\r\n    const regex = /^[a-zA-Z0-9.!#$%&â€™*+\\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n    return regex.test(value);\r\n  };\r\n\r\n  handlers.url = function(value, element) {\r\n    value = punycode.toASCII(value);\r\n    const regex = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/i;\r\n    return regex.test(value);\r\n  };\r\n\r\n  handlers.alnum = function(value, element) {\r\n    const regex = /^[a-zA-Z0-9]*$/;\r\n    return regex.test(value);\r\n  };\r\n\r\n  handlers.color = function(value, element) {\r\n    const regex = /^#(?:[0-9a-f]{3}){1,2}$/;\r\n    return regex.test(value);\r\n  };\r\n\r\n  /**\r\n   * @see  http://www.virtuosimedia.com/dev/php/37-tested-php-perl-and-javascript-regular-expressions\r\n   */\r\n  handlers.creditcard = function(value, element) {\r\n    const regex = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6011[0-9]{12}|622((12[6-9]|1[3-9][0-9])|([2-8][0-9][0-9])|(9(([0-1][0-9])|(2[0-5]))))[0-9]{10}|64[4-9][0-9]{13}|65[0-9]{14}|3(?:0[0-5]|[68][0-9])[0-9]{11}|3[47][0-9]{13})*$/;\r\n    return regex.test(value);\r\n  };\r\n\r\n  handlers.ip = function(value, element) {\r\n    const regex = /^((?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))*$/;\r\n    return regex.test(value);\r\n  };\r\n\r\n  window.PhoenixValidationV1 = PhoenixValidationV1;\r\n\r\n})(jQuery);\r\n"]}