"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}$(function(){var e=function(){function e(t,i){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,e),_defineProperty(this,"options",{}),this.modal=$(i),this.iframe=this.modal.find("iframe"),this.options=$.extend(!0,{},this.options,o),this.iframe[0].modalLink=function(){return n},this.modal.on("hide.bs.modal",function(){n.iframe.attr("src","")}),t.on("click",function(e){e.stopPropagation(),e.preventDefault();var t={};t.resize=e.currentTarget.dataset.resize,t.size=e.currentTarget.dataset.size,t=$.extend(!0,{},n.options,t),n.open(e.currentTarget.href,t)}),"#phoenix-iframe-modal"===i&&(Phoenix.Modal=this)}return _createClass(e,[{key:"open",value:function(e){var t,i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="";null!=(n=$.extend(!0,{},this.options,n)).resize?this.iframe.on("load",t=function(){i.resize(i.iframe[0]),i.iframe.off("load",t)}):null!=n.height&&(o=n.height);null!=n.size&&this.modal.find(".modal-dialog").removeClass("modal-lg modal-xl modal-sm modal-xs").addClass(n.size),this.iframe.css("height",o),this.iframe.attr("src",e),this.modal.modal("show")}},{key:"close",value:function(){this.modal.modal("hide"),this.iframe.attr("src","")}},{key:"resize",value:function(e){setTimeout(function(){var t=e.contentWindow.document.documentElement.scrollHeight;t<500&&(t=500),e.style.height=t+"px"},30)}}]),e}();Phoenix.plugin("modalLink",e)});