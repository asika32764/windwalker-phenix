"use strict";window.RepeatableField={name:"repeatable-field",data:{control:"",id:"",items:[],fields:[],ensureFirstRow:0},created:function(){this.items.map(this.prepareItem),this.ensureFirstRow&&this.makeSureDefaultItem()},mounted:function(){},methods:{getId:function(e,t,i){return"".concat(this.id,"-").concat(t.__key,"-").concat(i)},getName:function(e,t,i){return"".concat(this.control,"[").concat(e,"][").concat(i,"]")},addItem:function(e){var t=this;this.items.splice(e+1,0,this.prepareItem(this.getEmptyItem())),this.$nextTick(function(){var i=t.$refs["repeat-item-"+(e+1)][0];$(i).css("display","none").fadeIn()})},delItem:function(e){var t=this,i=this.$refs["repeat-item-"+e][0];$(i).fadeOut(function(){t.items.splice(e,1),t.ensureFirstRow&&t.makeSureDefaultItem()})},prepareItem:function(e){return e.__key||(e.__key=Phoenix.uniqid()),e},getEmptyItem:function(){return $.extend({},this.fields)},makeSureDefaultItem:function(){0===this.items.length&&this.items.push(this.prepareItem(this.getEmptyItem()))}}};