"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}$(function(){var e=window.swal||function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;alert(e+" / "+n)};Phoenix.plugin("dragFile",function(){return function n(a,i){_classCallCheck(this,n),a.on("change",function(n){var a=$(n.currentTarget),i=a[0].files,r=a.attr("data-max-files"),t=a.attr("data-max-size"),l=a.attr("placeholder"),o=(a.attr("data-accepted")||"").split(",").map(function(e){return e.trim()}).filter(function(e){return e.length>0}),f=void 0;if(l||(l=a.attr("multiple")?Phoenix.__("phoenix.form.field.drag.file.placeholder.multiple"):Phoenix.__("phoenix.form.field.drag.file.placeholder.single")),r&&i.length>r)return e(Phoenix.__("phoenix.form.field.drag.file.message.max.files",r),"","warning"),void n.preventDefault();var s=0;if(Array.prototype.forEach.call(i,function(n){if(o.length&&-1===o.indexOf(n.name.split(".").pop().toLowerCase()))throw e(Phoenix.__("phoenix.form.field.drag.file.message.unaccepted.files"),Phoenix.__("phoenix.form.field.drag.file.message.unaccepted.files.desc",o.join(", ")),"warning"),new Error("Not accepted file ext");s+=n.size}),t&&s/1024/1024>t)return e(Phoenix.__("phoenix.form.field.drag.file.message.max.size",t<1?1024*t+"KB":t+"MB"),"","warning"),void n.preventDefault();f=i.length>1?'<span class="fa fa-files fa-copy"></span> \n                    '+Phoenix.__("phoenix.form.field.drag.file.selected",i.length):1===i.length?'<span class="fa fa-file"></span> '+i[0].name:'<span class="fa fa-upload"></span> '+l,a.next(".custom-file-label").find("span").html(f)}).on("dragover",function(e){$(e.currentTarget).addClass("hover")}).on("dragleave",function(e){$(e.currentTarget).removeClass("hover")}).on("drop",function(e){$(e.currentTarget).removeClass("hover")}).trigger("change")}}())});