"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}function _defineProperty(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}$(function(){var e=function(){function e(i,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,e),_defineProperty(this,"options",{}),this.modal=$(t),this.iframe=this.modal.find("iframe"),this.options=$.extend(!0,{},this.options,a),this.iframe[0].modalLink=function(){return n},this.modal.on("hide.bs.modal",function(){n.iframe.attr("src","")}),i.on("click",function(e){e.stopPropagation(),e.preventDefault();var i={};i.resize=e.currentTarget.dataset.resize,i.size=e.currentTarget.dataset.size,i=$.extend(!0,{},n.options,i),n.open(e.currentTarget.href,i)}),"#phoenix-iframe-modal"===t&&(Phoenix.Modal=this)}return _createClass(e,[{key:"open",value:function(e){var i,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=n.resize&&this.iframe.on("load",i=function(){t.resize(t.iframe[0]),t.iframe.off("load",i)});null!=n.size&&this.modal.find(".modal-dialog").removeClass("modal-lg modal-xl modal-sm modal-xs").addClass(n.size),this.iframe.css("height",""),this.iframe.attr("src",e),this.modal.modal("show")}},{key:"close",value:function(){this.modal.modal("hide"),this.iframe.attr("src","")}},{key:"resize",value:function(e){var i=e.contentWindow.document.documentElement.scrollHeight;i<500||(e.style.height=i+"px")}}]),e}();Phoenix.plugin("modalLink",e)});